import{c as e,o as s,s as t,j as r,S as a,f as l}from"./index-C3XHl7PL.js";import{r as n}from"./vendor-Df-ZC91g.js";import{C as d,c as i,a as c,b as x}from"./Card-DqtHJJQK.js";import{P as m}from"./package-uccDexwJ.js";import{U as o}from"./users-DA7jsRNu.js";import"./router-BW3qfFDS.js";import"./supabase-C0-OQ20D.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),p=()=>{const[e,p]=n.useState([]),[j,g]=n.useState([]),[u,N]=n.useState(!0);n.useEffect(()=>{f()},[]);const f=async()=>{try{N(!0);const[e,r]=await Promise.all([s.getAll(),t.getAll()]);p(e),g(r)}catch(e){console.error("Error loading dashboard data:",e)}finally{N(!1)}},y={totalOrders:e.length,pendingOrders:e.filter(e=>"pending"===e.status).length,totalRevenue:e.reduce((e,s)=>e+s.total_cost,0),pendingSuggestions:j.filter(e=>"pending"===e.status).length};return u?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Staff Dashboard"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage orders, view suggestions, and track rental performance"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(d,{children:r.jsx(i,{className:"p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 rounded-full bg-primary-100 text-primary-600 mr-4",children:r.jsx(a,{size:24})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:y.totalOrders})]})]})})}),r.jsx(d,{children:r.jsx(i,{className:"p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 rounded-full bg-warning-100 text-warning-600 mr-4",children:r.jsx(m,{size:24})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Orders"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:y.pendingOrders})]})]})})}),r.jsx(d,{children:r.jsx(i,{className:"p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 rounded-full bg-success-100 text-success-600 mr-4",children:r.jsx(h,{size:24})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l(y.totalRevenue)})]})]})})}),r.jsx(d,{children:r.jsx(i,{className:"p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 rounded-full bg-secondary-100 text-secondary-600 mr-4",children:r.jsx(o,{size:24})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"New Suggestions"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:y.pendingSuggestions})]})]})})})]}),r.jsxs(d,{children:[r.jsx(c,{children:r.jsx(x,{children:"Recent Orders"})}),r.jsx(i,{children:e.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Customer"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Equipment"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Duration"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Total"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Status"})]})}),r.jsx("tbody",{children:e.slice(0,5).map(e=>{var s;return r.jsxs("tr",{className:"border-b border-gray-100",children:[r.jsx("td",{className:"py-3 px-4",children:e.customer_name}),r.jsx("td",{className:"py-3 px-4",children:(null==(s=e.equipment)?void 0:s.name)||"N/A"}),r.jsx("td",{className:"py-3 px-4",children:e.duration}),r.jsx("td",{className:"py-3 px-4",children:l(e.total_cost)}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("confirmed"===e.status?"bg-success-100 text-success-800":"pending"===e.status?"bg-warning-100 text-warning-800":"bg-gray-100 text-gray-800"),children:e.status})})]},e.id)})})]})}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No orders yet"})})]})]})})};export{p as default};
