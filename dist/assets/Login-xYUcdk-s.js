import{a as e,j as s,C as a,B as t}from"./index-C3XHl7PL.js";import{r}from"./vendor-Df-ZC91g.js";import{u as l,b as i,L as m}from"./router-BW3qfFDS.js";import{I as c}from"./Input-BAszwOqE.js";import{A as n}from"./Alert-D6Ms3eos.js";import{M as o,L as d}from"./mail-RPAkcuJK.js";import"./supabase-C0-OQ20D.js";const x=()=>{const{login:x,isAuthenticated:u}=e(),p=l(),[j]=i(),[h,f]=r.useState(""),[g,y]=r.useState(""),[v,N]=r.useState(!1),[w,b]=r.useState(""),C=j.get("redirect")||"/";r.useEffect(()=>{u&&p(C)},[u,p,C]);return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(a,{size:48,className:"text-primary-600"})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to LensPro Rentals"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your account to manage orders and equipment"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[w&&s.jsx(n,{variant:"error",className:"mb-4",onClose:()=>b(""),children:w}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),b(""),N(!0);try{const e=await x(h,g);e.success||b(e.error||"Login failed")}catch(s){b("An error occurred. Please try again later."),console.error(s)}finally{N(!1)}},className:"space-y-6",children:[s.jsx(c,{id:"email",label:"Email address",type:"email",value:h,onChange:e=>f(e.target.value),required:!0,autoComplete:"email",placeholder:"Enter your email",icon:s.jsx(o,{className:"h-5 w-5 text-gray-400"})}),s.jsx(c,{id:"password",label:"Password",type:"password",value:g,onChange:e=>y(e.target.value),required:!0,autoComplete:"current-password",placeholder:"Enter your password",icon:s.jsx(d,{className:"h-5 w-5 text-gray-400"})}),s.jsx(t,{type:"submit",fullWidth:!0,isLoading:v,children:"Sign in"})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(m,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Create a new account"})})]})]})})]})};export{x as default};
